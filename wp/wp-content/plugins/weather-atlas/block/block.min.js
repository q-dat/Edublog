const{registerBlockType:registerBlockType}=wp.blocks,{__:__}=wp.i18n,{createElement:createElement}=wp.element;registerBlockType("weather-atlas/weather-widget",{title:__("Weather Atlas","weather-atlas"),description:__("Display weather information for a selected location","weather-atlas"),icon:"admin-site-alt3",category:"widgets",example:{attributes:{selected_widget_id:"",image:""}},attributes:{selected_widget_id:{type:"string",default:""}},edit:function(t){const{useState:e,useEffect:a}=wp.element,[l,s]=e([]);a(()=>{wp.apiFetch({path:"/weather-atlas/v1/widgets"}).then(s)},[]);var i=createElement("label",{className:"components-placeholder__label"},createElement("span",{className:"dashicons dashicons-admin-site-alt3"})," Weather Atlas Widget");return 0===l.length?createElement("div",{className:t.className},i,createElement("p",{},"Locations unavailable.",createElement("br"),"Please, first add locations in Admin Dashboard â†’ Weather Atlas")):createElement("div",{className:t.className},i,createElement(wp.components.SelectControl,{label:"Select location",value:t.attributes.selected_widget_id||"",options:l.map(e=>({label:e.widget_name,value:e.id})),onChange:e=>{t.setAttributes({selected_widget_id:e})}}))},save:function(){return null}});